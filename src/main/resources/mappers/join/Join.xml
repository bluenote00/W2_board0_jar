<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.W2_board0_jar.dao.join.JoinDao">

    <!-- 로그인 ID 중복 체크 -->
    <select id="checkDuplicateId" parameterType="map" resultType="int">
        SELECT      COUNT(*)
        FROM        USER_INFO
        WHERE       USER_ID = #{userId}
    </select>

    <!-- 이름 중복 체크 -->
    <select id="checkDuplicateName" parameterType="map" resultType="int">
        SELECT      COUNT(*)
        FROM        USER_INFO
        WHERE       USER_NAME = #{userName}
    </select>

    <!-- 회원가입 -->
    <insert id="Join" parameterType="map">
        /* com.example.W2_board0_jar.dao.join.JoinDao */
        INSERT INTO 	USER_INFO
        (
                        USER_ID
                ,		USER_PW
                ,		USER_NAME
                ,		USER_EMAIL
                ,		USER_PHONE
                ,		USER_ADDR1
                ,		USER_ADDR2
                ,		USER_ADDR3
                ,		USER_COMPANY
                ,		CREATOR
                ,		CREATE_TIME
        ) VALUES (
                        #{userId}
                 ,		#{userPw}
                 ,		#{userName}
                 ,		#{userEmail}
                 ,		#{userPhone}
                 ,		#{userAddr1}
                 ,		#{userAddr2}
                 ,		#{userAddr3}
                 ,		#{userCompany}
                 ,		#{userId}
                 ,		SYSDATE
                 )
    </insert>

</mapper>