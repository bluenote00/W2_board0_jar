<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.W2_board0_jar.dao.board.BoardDao">
    <!-- 게시판 전체 조회-->
    <select id="SelectBoardList" parameterType="java.util.Map" resultType ="com.example.W2_board0_jar.dto.board.BoardDto">
        /* com.example.W2_board0_jar.dao.board.BoardDao */
        SELECT         BOARD_TYPE       AS boardType
               ,        CASE BOARD_TYPE
                            WHEN 'a01' THEN '일반'
                            WHEN 'a02' THEN '공지'
                            WHEN 'a03' THEN 'QA'
                            WHEN 'a04' THEN '자유'
                        END           AS boardTypeName
               ,        BOARD_NUM     AS boardNum
               ,        BOARD_TITLE     AS boardTitle
               ,        BOARD_COMMENT   AS boardComment
        FROM            BOARD
        ORDER BY        BOARD_NUM DESC
    </select>

    <!-- 게시글 갯수 카운트-->
    <select id="SelectBoardCount" parameterType="java.util.Map">
        /* com.example.W2_board0_jar.dao.board.BoardDao */
        SELECT      COUNT(*)
        FROM        BOARD
    </select>


    <!-- 게시글 상세보기 -->
    <select id="SelectBoardDetail" parameterType="java.util.Map" resultType ="com.example.W2_board0_jar.dto.board.BoardDto">
        /* com.example.W2_board0_jar.dao.board.BoardDao */
        SELECT 	 	BOARD_TYPE      AS  boardType
             ,		BOARD_NUM       AS  boardNum
             ,		BOARD_TITLE     AS  boardTitle
             ,    	BOARD_COMMENT   AS  boardComment
             ,    	CREATOR 		AS  creator
        FROM 		BOARD
        WHERE       BOARD_TYPE      =   #{boardType}
        AND         BOARD_NUM       =   #{boardNum}
    </select>

    <!-- 게시글 작성 -->
    <insert id="BoardWrite" parameterType="java.util.Map">
        /* com.example.W2_board0_jar.dao.board.BoardDao */
        SELECT 	 	BOARD_TYPE      AS  boardType
             ,		BOARD_NUM       AS  boardNum
             ,		BOARD_TITLE     AS  boardTitle
             ,    	BOARD_COMMENT   AS  boardComment
             ,    	CREATOR 		AS  creator
        FROM 		BOARD
        WHERE       BOARD_TYPE      =   #{boardType}
          AND         BOARD_NUM       =   #{boardNum}
    </insert>


</mapper>